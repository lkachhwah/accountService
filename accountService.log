2021-04-24 15:02:34.204  INFO 6480 --- [main] c.m.a.AccountserviceApplicationTests     : Starting AccountserviceApplicationTests using Java 1.8.0_201 on WINCTRL-2RFE763 with PID 6480 (started by Admin in C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice)
2021-04-24 15:02:34.208  INFO 6480 --- [main] c.m.a.AccountserviceApplicationTests     : No active profile set, falling back to default profiles: default
2021-04-24 15:02:43.900  WARN 6480 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.mybank.reportingservice.db.model]' package. Please check your configuration.
2021-04-24 15:02:57.475  INFO 6480 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2021-04-24 15:02:58.807  INFO 6480 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-04-24 15:02:58.809  INFO 6480 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.44]
2021-04-24 15:03:02.846  INFO 6480 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-04-24 15:03:02.847  INFO 6480 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 28444 ms
2021-04-24 15:03:04.797  INFO 6480 --- [main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-04-24 15:03:24.342  INFO 6480 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2021-04-24 15:03:24.732  INFO 6480 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-04-24 15:03:25.813  INFO 6480 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2021-04-24 15:03:25.814  INFO 6480 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2021-04-24 15:03:25.819  INFO 6480 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2021-04-24 15:03:27.254  INFO 6480 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 61134 (http) with context path ''
2021-04-24 15:03:27.256  INFO 6480 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2021-04-24 15:03:27.326  INFO 6480 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2021-04-24 15:03:27.389  INFO 6480 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2021-04-24 15:03:27.949  INFO 6480 --- [main] c.m.a.AccountserviceApplicationTests     : Started AccountserviceApplicationTests in 56.138 seconds (JVM running for 67.813)
2021-04-24 15:03:29.873  INFO 6480 --- [main] c.m.a.service.AccountService             : AccountDetails INSERT:AccountDetail(accountId=1619256809873, customerId=Lalit, country=India, openedOnDate=Sat Apr 24 15:03:29 IST 2021, balance=0, allowedCurrencies=EUR,SEK,USD)
2021-04-24 15:03:30.022  INFO 6480 --- [main] c.m.a.service.AccountService             : AccountDetails INSERT SuccessFull:AccountDetail(accountId=1619256809873, customerId=Lalit, country=India, openedOnDate=Sat Apr 24 15:03:29 IST 2021, balance=0, allowedCurrencies=EUR,SEK,USD)
2021-04-24 15:03:30.078  INFO 6480 --- [main] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619256809873, customerId=Lalit, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=0.00, balanceInDifferentCurrency=[BalanceDetailsDto(amount=0.00, currency=EUR), BalanceDetailsDto(amount=0.00, currency=SEK), BalanceDetailsDto(amount=0.00, currency=USD)], currencies=null)
2021-04-24 15:03:30.150  INFO 6480 --- [main] c.m.a.service.AccountService             : BalanceDetails:[BalanceDetailsDto(amount=49.80, currency=EUR), BalanceDetailsDto(amount=506.40, currency=SEK), BalanceDetailsDto(amount=60.00, currency=USD)]
2021-04-24 15:03:30.160  INFO 6480 --- [task-1] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619256810078, customerId=Lalit, accountId=1619256809873, transactionType=IN, description=Initial Acount opened, trasactionDate=Sat Apr 24 15:03:30 IST 2021, amount=60, status=SUCCESS, transactionCurrency=USD, accountBalance=60.00, accountBalanceInUSD=60.00, failureReason=NA))
2021-04-24 15:03:30.201  INFO 6480 --- [task-1] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [127.0.0.1:5672]
2021-04-24 15:03:30.649  INFO 6480 --- [task-1] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#eac00e:0/SimpleConnection@10e7b8a [delegate=amqp://guest@127.0.0.1:5672/, localPort= 61139]
2021-04-24 15:03:30.685  INFO 6480 --- [task-1] o.s.amqp.rabbit.core.RabbitAdmin         : Auto-declaring a non-durable, auto-delete, or exclusive Queue (myTestQueue) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2021-04-24 15:03:31.396  INFO 6480 --- [main] o.s.t.c.s.DefaultTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.mybank.accountservice.controller.AccountControllerTest], using DelegatingSmartContextLoader
2021-04-24 15:03:31.397  INFO 6480 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.mybank.accountservice.controller.AccountControllerTest]: no resource found for suffixes {-context.xml}.
2021-04-24 15:03:31.399  INFO 6480 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.mybank.accountservice.controller.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-04-24 15:03:31.402  INFO 6480 --- [main] o.s.t.c.s.DefaultTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-04-24 15:03:31.402  INFO 6480 --- [main] o.s.t.c.s.DefaultTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@b61e97, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1d1735e, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1082efa, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@a5cb99, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@53363c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@82f1eb, org.springframework.test.context.transaction.TransactionalTestExecutionListener@d6cbf, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@169464, org.springframework.test.context.event.EventPublishingTestExecutionListener@115be8c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@ed18ec, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1fcf85a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@10dea35, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@150ce46, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1f69078, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1b29b34]
2021-04-24 15:03:39.480  INFO 6480 --- [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2021-04-24 15:03:39.481  INFO 6480 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2021-04-24 15:03:39.481  INFO 6480 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2021-04-24 15:03:40.053  INFO 6480 --- [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2021-04-24 15:03:40.053  INFO 6480 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2021-04-24 15:03:40.054  INFO 6480 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2021-04-24 15:03:40.070  INFO 6480 --- [main] o.s.t.c.s.DefaultTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.mybank.accountservice.controller.TransactionControllerTest], using DelegatingSmartContextLoader
2021-04-24 15:03:40.071  INFO 6480 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.mybank.accountservice.controller.TransactionControllerTest]: no resource found for suffixes {-context.xml}.
2021-04-24 15:03:40.071  INFO 6480 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.mybank.accountservice.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-04-24 15:03:40.073  INFO 6480 --- [main] o.s.t.c.s.DefaultTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-04-24 15:03:40.074  INFO 6480 --- [main] o.s.t.c.s.DefaultTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@f91ae3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1d9f3a, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2a3f0c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@185df70, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@193ff21, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1fb5fe6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@a4c88a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@191e231, org.springframework.test.context.event.EventPublishingTestExecutionListener@1397d15, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@360c3b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@ac6fef, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@b49121, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7b9277, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4215d7, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@156d8a7]
2021-04-24 15:03:40.141  INFO 6480 --- [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2021-04-24 15:03:40.142  INFO 6480 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2021-04-24 15:03:40.142  INFO 6480 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2021-04-24 15:03:40.166  INFO 6480 --- [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2021-04-24 15:03:40.167  INFO 6480 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2021-04-24 15:03:40.167  INFO 6480 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2021-04-24 15:03:40.180  INFO 6480 --- [main] o.s.t.c.s.DefaultTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.mybank.accountservice.service.AccountServiceTest], using DelegatingSmartContextLoader
2021-04-24 15:03:40.181  INFO 6480 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.mybank.accountservice.service.AccountServiceTest]: no resource found for suffixes {-context.xml}.
2021-04-24 15:03:40.181  INFO 6480 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.mybank.accountservice.service.AccountServiceTest]: AccountServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-04-24 15:03:40.182  INFO 6480 --- [main] o.s.t.c.s.DefaultTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-04-24 15:03:40.183  INFO 6480 --- [main] o.s.t.c.s.DefaultTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@badf19, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1b3f754, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@18dbc1b, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@510e0e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@315e4a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@fe014f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@ff11ef, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7c5ac0, org.springframework.test.context.event.EventPublishingTestExecutionListener@3d978b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@f70afa, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@dd04e2, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@95e8a3, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7aa675, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@ded11a, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2a3237]
2021-04-24 15:03:40.374  INFO 6480 --- [main] c.m.a.service.AccountService             : AccountDetails INSERT:AccountDetail(accountId=TEST_ACCOUNT_ID, customerId=null, country=United States, openedOnDate=Sat Apr 24 15:03:40 IST 2021, balance=0, allowedCurrencies=null)
2021-04-24 15:03:40.374  INFO 6480 --- [main] c.m.a.service.AccountService             : AccountDetails INSERT SuccessFull:AccountDetail(accountId=TEST_ACCOUNT_ID, customerId=null, country=United States, openedOnDate=Sat Apr 24 15:03:40 IST 2021, balance=0, allowedCurrencies=null)
2021-04-24 15:03:40.375  INFO 6480 --- [main] c.m.a.service.AccountService             : BalanceDetails:[]
2021-04-24 15:03:40.379  INFO 6480 --- [main] o.s.t.c.s.DefaultTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.mybank.accountservice.service.TransactionServiceTest], using DelegatingSmartContextLoader
2021-04-24 15:03:40.380  INFO 6480 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.mybank.accountservice.service.TransactionServiceTest]: no resource found for suffixes {-context.xml}.
2021-04-24 15:03:40.380  INFO 6480 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.mybank.accountservice.service.TransactionServiceTest]: TransactionServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-04-24 15:03:40.381  INFO 6480 --- [main] o.s.t.c.s.DefaultTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-04-24 15:03:40.382  INFO 6480 --- [main] o.s.t.c.s.DefaultTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@546f8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@b3004e, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@19c4e06, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@11cbcda, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@17c1a87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@155c3d6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@8e5ac4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@c1e3, org.springframework.test.context.event.EventPublishingTestExecutionListener@18b4846, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@357792, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@734cea, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6280de, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1ca282c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2653a0, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@784212]
2021-04-24 15:03:40.464  INFO 6480 --- [main] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=TEST_ACCOUNT_ID, customerId=null, country=United States, openedOnDate=null, balance=10, balanceInDifferentCurrency=null, currencies=null)
2021-04-24 15:03:42.856  INFO 6480 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-04-24 16:45:53.422  INFO 1256 --- [restartedMain] c.m.a.AccountserviceApplication          : Starting AccountserviceApplication using Java 1.8.0_201 on WINCTRL-2RFE763 with PID 1256 (C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes started by Admin in C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice)
2021-04-24 16:45:53.437  INFO 1256 --- [restartedMain] c.m.a.AccountserviceApplication          : No active profile set, falling back to default profiles: default
2021-04-24 16:45:53.703  INFO 1256 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-04-24 16:45:53.704  INFO 1256 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-04-24 16:45:57.077  WARN 1256 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.mybank.reportingservice.db.model]' package. Please check your configuration.
2021-04-24 16:46:03.516  INFO 1256 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2021-04-24 16:46:03.534  INFO 1256 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-04-24 16:46:03.534  INFO 1256 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.44]
2021-04-24 16:46:03.813  INFO 1256 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-04-24 16:46:03.814  INFO 1256 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 10108 ms
2021-04-24 16:46:04.079  INFO 1256 --- [restartedMain] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-04-24 16:46:06.661  INFO 1256 --- [restartedMain] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2021-04-24 16:46:06.817  INFO 1256 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-04-24 16:46:06.868  INFO 1256 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-04-24 16:46:07.455  INFO 1256 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2021-04-24 16:46:07.457  INFO 1256 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2021-04-24 16:46:07.525  INFO 1256 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2021-04-24 16:46:07.683  INFO 1256 --- [restartedMain] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2021-04-24 16:46:08.001  INFO 1256 --- [restartedMain] c.m.a.AccountserviceApplication          : Started AccountserviceApplication in 16.332 seconds (JVM running for 18.385)
2021-04-24 16:46:08.006  INFO 1256 --- [restartedMain] c.m.a.AccountserviceApplication          : *************Started************
2021-04-24 16:48:22.518  INFO 1256 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-04-24 16:48:22.519  INFO 1256 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-04-24 16:48:22.526  INFO 1256 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2021-04-24 16:48:23.236  INFO 1256 --- [http-nio-8081-exec-2] c.m.a.service.AccountService             : AccountDetails INSERT:AccountDetail(accountId=1619263103236, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 16:48:23 IST 2021, balance=0, allowedCurrencies=EUR,SEK,USD, stampKey=1619263103236)
2021-04-24 16:48:23.247  INFO 1256 --- [http-nio-8081-exec-2] c.m.a.service.AccountService             : AccountDetails INSERT SuccessFull:AccountDetail(accountId=1619263103236, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 16:48:23 IST 2021, balance=0, allowedCurrencies=EUR,SEK,USD, stampKey=1619263103236)
2021-04-24 16:48:23.307  INFO 1256 --- [http-nio-8081-exec-2] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619263103236, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=0.00, balanceInDifferentCurrency=[BalanceDetailsDto(amount=0.00, currency=EUR), BalanceDetailsDto(amount=0.00, currency=SEK), BalanceDetailsDto(amount=0.00, currency=USD)], currencies=null, stampKey=1619263103236)
2021-04-24 16:48:23.435  INFO 1256 --- [task-1] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619263103307, customerId=lkachhwah, accountId=1619263103236, transactionType=IN, description=Initial Acount opened, trasactionDate=Sat Apr 24 16:48:23 IST 2021, amount=99.555, status=null, transactionCurrency=USD, accountBalance=99.56, accountBalanceInUSD=99.56, failureReason=NA))
2021-04-24 16:48:23.437  INFO 1256 --- [http-nio-8081-exec-2] c.m.a.service.AccountService             : BalanceDetails:[BalanceDetailsDto(amount=82.64, currency=EUR), BalanceDetailsDto(amount=840.25, currency=SEK), BalanceDetailsDto(amount=99.56, currency=USD)]
2021-04-24 16:48:23.469  INFO 1256 --- [task-1] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [127.0.0.1:5672]
2021-04-24 16:48:26.959  INFO 1256 --- [task-1] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#8e3b4d:0/SimpleConnection@15522b0 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 62178]
2021-04-24 16:48:27.059  INFO 1256 --- [task-1] o.s.amqp.rabbit.core.RabbitAdmin         : Auto-declaring a non-durable, auto-delete, or exclusive Queue (myTestQueue) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2021-04-24 16:50:01.747  INFO 1256 --- [Thread-6] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-04-24 16:50:02.264  INFO 1256 --- [restartedMain] c.m.a.AccountserviceApplication          : Starting AccountserviceApplication using Java 1.8.0_201 on WINCTRL-2RFE763 with PID 1256 (C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes started by Admin in C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice)
2021-04-24 16:50:02.265  INFO 1256 --- [restartedMain] c.m.a.AccountserviceApplication          : No active profile set, falling back to default profiles: default
2021-04-24 16:50:04.109  WARN 1256 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.mybank.reportingservice.db.model]' package. Please check your configuration.
2021-04-24 16:50:04.387  INFO 1256 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2021-04-24 16:50:04.388  INFO 1256 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-04-24 16:50:04.388  INFO 1256 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.44]
2021-04-24 16:50:04.476  INFO 1256 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-04-24 16:50:04.477  INFO 1256 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2206 ms
2021-04-24 16:50:04.557  INFO 1256 --- [restartedMain] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-04-24 16:50:04.583  INFO 1256 --- [restartedMain] o.s.j.d.e.EmbeddedDatabaseFactory        : Shutting down embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
2021-04-24 16:50:04.836  WARN 1256 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountController': Unsatisfied dependency expressed through field 'accountService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountService': Unsatisfied dependency expressed through field 'accountDetailsMapper'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountDetailsMapper' defined in file [C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes\com\mybank\accountservice\db\mapper\AccountDetailsMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/mybank/accountservice/config/PersistantConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
2021-04-24 16:50:04.838  INFO 1256 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2021-04-24 16:50:04.867  INFO 1256 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-04-24 16:50:05.231 ERROR 1256 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountController': Unsatisfied dependency expressed through field 'accountService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountService': Unsatisfied dependency expressed through field 'accountDetailsMapper'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountDetailsMapper' defined in file [C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes\com\mybank\accountservice\db\mapper\AccountDetailsMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/mybank/accountservice/config/PersistantConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.5.jar:5.3.5]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.5.jar:5.3.5]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.4.jar:2.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:769) [spring-boot-2.4.4.jar:2.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) [spring-boot-2.4.4.jar:2.4.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.4.jar:2.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.4.jar:2.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1313) [spring-boot-2.4.4.jar:2.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) [spring-boot-2.4.4.jar:2.4.4]
	at com.mybank.accountservice.AccountserviceApplication.main(AccountserviceApplication.java:23) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_201]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_201]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_201]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_201]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.4.4.jar:2.4.4]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountService': Unsatisfied dependency expressed through field 'accountDetailsMapper'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountDetailsMapper' defined in file [C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes\com\mybank\accountservice\db\mapper\AccountDetailsMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/mybank/accountservice/config/PersistantConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.3.5.jar:5.3.5]
	... 26 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountDetailsMapper' defined in file [C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes\com\mybank\accountservice\db\mapper\AccountDetailsMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/mybank/accountservice/config/PersistantConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1516) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1399) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.3.5.jar:5.3.5]
	... 40 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/mybank/accountservice/config/PersistantConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1501) ~[spring-beans-5.3.5.jar:5.3.5]
	... 51 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.5.jar:5.3.5]
	... 64 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:622) ~[spring-jdbc-5.3.5.jar:5.3.5]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-5.3.5.jar:5.3.5]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:49) ~[spring-jdbc-5.3.5.jar:5.3.5]
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory.initDatabase(EmbeddedDatabaseFactory.java:201) ~[spring-jdbc-5.3.5.jar:5.3.5]
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory.getDatabase(EmbeddedDatabaseFactory.java:158) ~[spring-jdbc-5.3.5.jar:5.3.5]
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseBuilder.build(EmbeddedDatabaseBuilder.java:283) ~[spring-jdbc-5.3.5.jar:5.3.5]
	at com.mybank.accountservice.config.PersistantConfig.dataSource(PersistantConfig.java:25) ~[classes/:na]
	at com.mybank.accountservice.config.PersistantConfig.sqlSessionFactory(PersistantConfig.java:31) ~[classes/:na]
	at com.mybank.accountservice.config.PersistantConfig$$EnhancerBySpringCGLIB$$65df9a7b.CGLIB$sqlSessionFactory$0(<generated>) ~[classes/:na]
	at com.mybank.accountservice.config.PersistantConfig$$EnhancerBySpringCGLIB$$65df9a7b$$FastClassBySpringCGLIB$$bd5146f9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.5.jar:5.3.5]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.5.jar:5.3.5]
	at com.mybank.accountservice.config.PersistantConfig$$EnhancerBySpringCGLIB$$65df9a7b.sqlSessionFactory(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_201]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_201]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_201]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_201]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.5.jar:5.3.5]
	... 65 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:459) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.index.BaseIndex.getDuplicateKeyException(BaseIndex.java:103) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:221) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:196) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.mvstore.db.MVTable.addRow(MVTable.java:531) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.dml.Insert.insertRows(Insert.java:195) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.dml.Insert.update(Insert.java:151) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.CommandContainer.update(CommandContainer.java:198) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Command.executeUpdate(Command.java:251) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:228) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:601) ~[spring-jdbc-5.3.5.jar:5.3.5]
	... 82 common frames omitted

2021-04-24 16:50:30.296  INFO 8400 --- [restartedMain] c.m.a.AccountserviceApplication          : Starting AccountserviceApplication using Java 1.8.0_201 on WINCTRL-2RFE763 with PID 8400 (C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes started by Admin in C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice)
2021-04-24 16:50:30.300  INFO 8400 --- [restartedMain] c.m.a.AccountserviceApplication          : No active profile set, falling back to default profiles: default
2021-04-24 16:50:30.421  INFO 8400 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-04-24 16:50:30.422  INFO 8400 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-04-24 16:50:31.710  WARN 8400 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.mybank.reportingservice.db.model]' package. Please check your configuration.
2021-04-24 16:50:33.489  INFO 8400 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2021-04-24 16:50:33.615  INFO 8400 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-04-24 16:50:33.617  INFO 8400 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.44]
2021-04-24 16:50:34.042  INFO 8400 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-04-24 16:50:34.043  INFO 8400 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3621 ms
2021-04-24 16:50:34.415  INFO 8400 --- [restartedMain] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-04-24 16:50:38.233  INFO 8400 --- [restartedMain] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2021-04-24 16:50:38.383  INFO 8400 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-04-24 16:50:38.498  INFO 8400 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-04-24 16:50:38.976  INFO 8400 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2021-04-24 16:50:38.977  INFO 8400 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2021-04-24 16:50:39.080  INFO 8400 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2021-04-24 16:50:39.174  INFO 8400 --- [restartedMain] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2021-04-24 16:50:39.447  INFO 8400 --- [restartedMain] c.m.a.AccountserviceApplication          : Started AccountserviceApplication in 9.937 seconds (JVM running for 10.824)
2021-04-24 16:50:39.452  INFO 8400 --- [restartedMain] c.m.a.AccountserviceApplication          : *************Started************
2021-04-24 16:51:14.362  INFO 8400 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-04-24 16:51:14.363  INFO 8400 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-04-24 16:51:14.365  INFO 8400 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-04-24 16:51:14.585  INFO 8400 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : AccountDetails INSERT:AccountDetail(accountId=1619263274585, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 16:51:14 IST 2021, balance=0, allowedCurrencies=EUR,SEK,USD, stampKey=1619263274585)
2021-04-24 16:51:14.597  INFO 8400 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : AccountDetails INSERT SuccessFull:AccountDetail(accountId=1619263274585, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 16:51:14 IST 2021, balance=0, allowedCurrencies=EUR,SEK,USD, stampKey=1619263274585)
2021-04-24 16:51:14.614  INFO 8400 --- [http-nio-8081-exec-1] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619263274585, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=0.00, balanceInDifferentCurrency=[BalanceDetailsDto(amount=0.00, currency=EUR), BalanceDetailsDto(amount=0.00, currency=SEK), BalanceDetailsDto(amount=0.00, currency=USD)], currencies=null, stampKey=1619263274585)
2021-04-24 16:51:14.633  INFO 8400 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : BalanceDetails:[BalanceDetailsDto(amount=82.64, currency=EUR), BalanceDetailsDto(amount=840.25, currency=SEK), BalanceDetailsDto(amount=99.56, currency=USD)]
2021-04-24 16:51:14.637  INFO 8400 --- [task-1] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619263274614, customerId=lkachhwah, accountId=1619263274585, transactionType=IN, description=Initial Acount opened, trasactionDate=Sat Apr 24 16:51:14 IST 2021, amount=99.555, status=SUCCESS, transactionCurrency=USD, accountBalance=99.56, accountBalanceInUSD=99.56, failureReason=NA))
2021-04-24 16:51:14.670  INFO 8400 --- [task-1] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [127.0.0.1:5672]
2021-04-24 16:51:15.007  INFO 8400 --- [task-1] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7c115f:0/SimpleConnection@127b07c [delegate=amqp://guest@127.0.0.1:5672/, localPort= 62206]
2021-04-24 16:51:15.021  INFO 8400 --- [task-1] o.s.amqp.rabbit.core.RabbitAdmin         : Auto-declaring a non-durable, auto-delete, or exclusive Queue (myTestQueue) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2021-04-24 16:52:28.577  WARN 8400 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [AccountServiceException(httpStatus=400 BAD_REQUEST, code=FailureCode(message=Currency is Invalid))]
2021-04-24 16:52:56.331  WARN 8400 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [AccountServiceException(httpStatus=400 BAD_REQUEST, code=FailureCode(message=Currency is Invalid))]
2021-04-24 16:56:38.821  INFO 7632 --- [restartedMain] c.m.a.AccountserviceApplication          : Starting AccountserviceApplication using Java 1.8.0_201 on WINCTRL-2RFE763 with PID 7632 (C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes started by Admin in C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice)
2021-04-24 16:56:38.826  INFO 7632 --- [restartedMain] c.m.a.AccountserviceApplication          : No active profile set, falling back to default profiles: default
2021-04-24 16:56:38.956  INFO 7632 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-04-24 16:56:38.957  INFO 7632 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-04-24 16:56:40.248  WARN 7632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.mybank.reportingservice.db.model]' package. Please check your configuration.
2021-04-24 16:56:41.028  INFO 7632 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2021-04-24 16:56:41.044  INFO 7632 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-04-24 16:56:41.045  INFO 7632 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.44]
2021-04-24 16:56:41.167  INFO 7632 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-04-24 16:56:41.168  INFO 7632 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2210 ms
2021-04-24 16:56:41.317  INFO 7632 --- [restartedMain] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-04-24 16:56:42.796  INFO 7632 --- [restartedMain] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2021-04-24 16:56:42.915  INFO 7632 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-04-24 16:56:42.946  INFO 7632 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-04-24 16:56:43.254  INFO 7632 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2021-04-24 16:56:43.255  INFO 7632 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2021-04-24 16:56:43.281  INFO 7632 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2021-04-24 16:56:43.355  INFO 7632 --- [restartedMain] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2021-04-24 16:56:43.568  INFO 7632 --- [restartedMain] c.m.a.AccountserviceApplication          : Started AccountserviceApplication in 5.39 seconds (JVM running for 6.238)
2021-04-24 16:56:43.573  INFO 7632 --- [restartedMain] c.m.a.AccountserviceApplication          : *************Started************
2021-04-24 16:56:57.839  INFO 7632 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-04-24 16:56:57.840  INFO 7632 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-04-24 16:56:57.843  INFO 7632 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2021-04-24 16:56:58.092  INFO 7632 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : AccountDetails INSERT:AccountDetail(accountId=1619263618092, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 16:56:58 IST 2021, balance=0, allowedCurrencies=EUR,SEK,USD, stampKey=1619263618092)
2021-04-24 16:56:58.106  INFO 7632 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : AccountDetails INSERT SuccessFull:AccountDetail(accountId=1619263618092, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 16:56:58 IST 2021, balance=0, allowedCurrencies=EUR,SEK,USD, stampKey=1619263618092)
2021-04-24 16:56:58.125  INFO 7632 --- [http-nio-8081-exec-1] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619263618092, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=0.00, balanceInDifferentCurrency=[BalanceDetailsDto(amount=0.00, currency=EUR), BalanceDetailsDto(amount=0.00, currency=SEK), BalanceDetailsDto(amount=0.00, currency=USD)], currencies=null, stampKey=1619263618092)
2021-04-24 16:56:58.147  INFO 7632 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : BalanceDetails:[BalanceDetailsDto(amount=82.64, currency=EUR), BalanceDetailsDto(amount=840.25, currency=SEK), BalanceDetailsDto(amount=99.56, currency=USD)]
2021-04-24 16:56:58.156  INFO 7632 --- [task-1] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619263618125, customerId=lkachhwah, accountId=1619263618092, transactionType=IN, description=Initial Acount opened, trasactionDate=Sat Apr 24 16:56:58 IST 2021, amount=99.555, status=SUCCESS, transactionCurrency=USD, accountBalance=99.56, accountBalanceInUSD=99.56, failureReason=NA))
2021-04-24 16:56:58.186  INFO 7632 --- [task-1] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [127.0.0.1:5672]
2021-04-24 16:56:58.282  INFO 7632 --- [task-1] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1b1ef64:0/SimpleConnection@160e52 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 62246]
2021-04-24 16:56:58.288  INFO 7632 --- [task-1] o.s.amqp.rabbit.core.RabbitAdmin         : Auto-declaring a non-durable, auto-delete, or exclusive Queue (myTestQueue) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2021-04-24 16:57:10.179  WARN 7632 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [AccountServiceException(httpStatus=400 BAD_REQUEST, code=FailureCode(message=Amount is Invalid))]
2021-04-24 16:57:18.698  INFO 7632 --- [http-nio-8081-exec-4] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619263618092, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=99.56, balanceInDifferentCurrency=[BalanceDetailsDto(amount=82.64, currency=EUR), BalanceDetailsDto(amount=840.29, currency=SEK), BalanceDetailsDto(amount=99.56, currency=USD)], currencies=null, stampKey=1619263618128)
2021-04-24 16:57:18.726  INFO 7632 --- [task-2] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619263638698, customerId=lkachhwah, accountId=1619263618092, transactionType=IN, description=Token Amount, trasactionDate=Sat Apr 24 16:57:18 IST 2021, amount=10, status=SUCCESS, transactionCurrency=EUR, accountBalance=92.64, accountBalanceInUSD=111.61, failureReason=NA))
2021-04-24 17:00:36.214  INFO 7632 --- [http-nio-8081-exec-6] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619263618092, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=111.61, balanceInDifferentCurrency=[BalanceDetailsDto(amount=92.64, currency=EUR), BalanceDetailsDto(amount=941.99, currency=SEK), BalanceDetailsDto(amount=111.61, currency=USD)], currencies=null, stampKey=1619263638706)
2021-04-24 17:00:36.228  INFO 7632 --- [task-3] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619263836214, customerId=lkachhwah, accountId=1619263618092, transactionType=IN, description=Token Amount, trasactionDate=Sat Apr 24 17:00:36 IST 2021, amount=10, status=SUCCESS, transactionCurrency=EUR, accountBalance=102.64, accountBalanceInUSD=123.66, failureReason=NA))
2021-04-24 17:01:04.799  INFO 7632 --- [http-nio-8081-exec-8] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619263618092, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=123.66, balanceInDifferentCurrency=[BalanceDetailsDto(amount=102.64, currency=EUR), BalanceDetailsDto(amount=1043.70, currency=SEK), BalanceDetailsDto(amount=123.66, currency=USD)], currencies=null, stampKey=1619263836219)
2021-04-24 17:01:04.809  INFO 7632 --- [task-4] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619263864798, customerId=lkachhwah, accountId=1619263618092, transactionType=IN, description=Token Amount, trasactionDate=Sat Apr 24 17:01:04 IST 2021, amount=10, status=SUCCESS, transactionCurrency=EUR, accountBalance=112.64, accountBalanceInUSD=135.71, failureReason=NA))
2021-04-24 17:02:48.887  INFO 7632 --- [Thread-6] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-04-24 17:02:49.139  INFO 7632 --- [restartedMain] c.m.a.AccountserviceApplication          : Starting AccountserviceApplication using Java 1.8.0_201 on WINCTRL-2RFE763 with PID 7632 (C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes started by Admin in C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice)
2021-04-24 17:02:49.140  INFO 7632 --- [restartedMain] c.m.a.AccountserviceApplication          : No active profile set, falling back to default profiles: default
2021-04-24 17:02:49.860  WARN 7632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.mybank.reportingservice.db.model]' package. Please check your configuration.
2021-04-24 17:02:50.024  INFO 7632 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2021-04-24 17:02:50.026  INFO 7632 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-04-24 17:02:50.026  INFO 7632 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.44]
2021-04-24 17:02:50.112  INFO 7632 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-04-24 17:02:50.112  INFO 7632 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 963 ms
2021-04-24 17:02:50.160  INFO 7632 --- [restartedMain] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-04-24 17:02:50.166  INFO 7632 --- [restartedMain] o.s.j.d.e.EmbeddedDatabaseFactory        : Shutting down embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
2021-04-24 17:02:50.403  WARN 7632 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountController': Unsatisfied dependency expressed through field 'accountService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountService': Unsatisfied dependency expressed through field 'accountDetailsMapper'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountDetailsMapper' defined in file [C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes\com\mybank\accountservice\db\mapper\AccountDetailsMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/mybank/accountservice/config/PersistantConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
2021-04-24 17:02:50.406  INFO 7632 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2021-04-24 17:02:50.437  INFO 7632 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-04-24 17:02:50.830 ERROR 7632 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountController': Unsatisfied dependency expressed through field 'accountService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountService': Unsatisfied dependency expressed through field 'accountDetailsMapper'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountDetailsMapper' defined in file [C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes\com\mybank\accountservice\db\mapper\AccountDetailsMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/mybank/accountservice/config/PersistantConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.5.jar:5.3.5]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.5.jar:5.3.5]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.4.jar:2.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:769) [spring-boot-2.4.4.jar:2.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) [spring-boot-2.4.4.jar:2.4.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.4.jar:2.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.4.jar:2.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1313) [spring-boot-2.4.4.jar:2.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) [spring-boot-2.4.4.jar:2.4.4]
	at com.mybank.accountservice.AccountserviceApplication.main(AccountserviceApplication.java:23) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_201]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_201]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_201]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_201]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.4.4.jar:2.4.4]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountService': Unsatisfied dependency expressed through field 'accountDetailsMapper'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountDetailsMapper' defined in file [C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes\com\mybank\accountservice\db\mapper\AccountDetailsMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/mybank/accountservice/config/PersistantConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.3.5.jar:5.3.5]
	... 26 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountDetailsMapper' defined in file [C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes\com\mybank\accountservice\db\mapper\AccountDetailsMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/mybank/accountservice/config/PersistantConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1516) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1399) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.3.5.jar:5.3.5]
	... 40 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/mybank/accountservice/config/PersistantConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1501) ~[spring-beans-5.3.5.jar:5.3.5]
	... 51 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.5.jar:5.3.5]
	... 64 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:622) ~[spring-jdbc-5.3.5.jar:5.3.5]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-5.3.5.jar:5.3.5]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:49) ~[spring-jdbc-5.3.5.jar:5.3.5]
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory.initDatabase(EmbeddedDatabaseFactory.java:201) ~[spring-jdbc-5.3.5.jar:5.3.5]
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory.getDatabase(EmbeddedDatabaseFactory.java:158) ~[spring-jdbc-5.3.5.jar:5.3.5]
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseBuilder.build(EmbeddedDatabaseBuilder.java:283) ~[spring-jdbc-5.3.5.jar:5.3.5]
	at com.mybank.accountservice.config.PersistantConfig.dataSource(PersistantConfig.java:25) ~[classes/:na]
	at com.mybank.accountservice.config.PersistantConfig.sqlSessionFactory(PersistantConfig.java:31) ~[classes/:na]
	at com.mybank.accountservice.config.PersistantConfig$$EnhancerBySpringCGLIB$$461e01b4.CGLIB$sqlSessionFactory$0(<generated>) ~[classes/:na]
	at com.mybank.accountservice.config.PersistantConfig$$EnhancerBySpringCGLIB$$461e01b4$$FastClassBySpringCGLIB$$cb5b22ce.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.5.jar:5.3.5]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.5.jar:5.3.5]
	at com.mybank.accountservice.config.PersistantConfig$$EnhancerBySpringCGLIB$$461e01b4.sqlSessionFactory(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_201]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_201]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_201]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_201]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.5.jar:5.3.5]
	... 65 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:459) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.index.BaseIndex.getDuplicateKeyException(BaseIndex.java:103) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:221) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:196) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.mvstore.db.MVTable.addRow(MVTable.java:531) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.dml.Insert.insertRows(Insert.java:195) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.dml.Insert.update(Insert.java:151) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.CommandContainer.update(CommandContainer.java:198) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Command.executeUpdate(Command.java:251) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:228) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:601) ~[spring-jdbc-5.3.5.jar:5.3.5]
	... 82 common frames omitted

2021-04-24 17:42:41.724  INFO 7632 --- [restartedMain] c.m.a.AccountserviceApplication          : Starting AccountserviceApplication using Java 1.8.0_201 on WINCTRL-2RFE763 with PID 7632 (C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes started by Admin in C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice)
2021-04-24 17:42:41.748  INFO 7632 --- [restartedMain] c.m.a.AccountserviceApplication          : No active profile set, falling back to default profiles: default
2021-04-24 17:43:08.477  WARN 7632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.mybank.reportingservice.db.model]' package. Please check your configuration.
2021-04-24 17:43:19.527  INFO 7632 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2021-04-24 17:43:19.630  INFO 7632 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-04-24 17:43:19.631  INFO 7632 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.44]
2021-04-24 17:43:20.144  INFO 7632 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2021-04-24 17:43:20.144  INFO 7632 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 37334 ms
2021-04-24 17:43:21.163  INFO 7632 --- [restartedMain] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-04-24 17:43:44.293  INFO 7632 --- [restartedMain] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2021-04-24 17:43:44.594  INFO 7632 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-04-24 17:43:44.600  INFO 7632 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-04-24 17:43:45.162  INFO 7632 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2021-04-24 17:43:45.163  INFO 7632 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2021-04-24 17:43:45.164  INFO 7632 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2021-04-24 17:43:45.205  INFO 7632 --- [restartedMain] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2021-04-24 17:43:45.387  INFO 7632 --- [restartedMain] c.m.a.AccountserviceApplication          : Started AccountserviceApplication in 71.925 seconds (JVM running for 2828.012)
2021-04-24 17:43:45.435  INFO 7632 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2021-04-24 17:43:45.436  INFO 7632 --- [restartedMain] c.m.a.AccountserviceApplication          : *************Started************
2021-04-24 19:34:43.114  INFO 4580 --- [restartedMain] c.m.a.AccountserviceApplication          : Starting AccountserviceApplication using Java 1.8.0_201 on WINCTRL-2RFE763 with PID 4580 (C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes started by Admin in C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice)
2021-04-24 19:34:43.136  INFO 4580 --- [restartedMain] c.m.a.AccountserviceApplication          : No active profile set, falling back to default profiles: default
2021-04-24 19:34:43.309  INFO 4580 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-04-24 19:34:43.309  INFO 4580 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-04-24 19:34:45.258  WARN 4580 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.mybank.reportingservice.db.model]' package. Please check your configuration.
2021-04-24 19:34:51.155  INFO 4580 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2021-04-24 19:34:51.191  INFO 4580 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-04-24 19:34:51.191  INFO 4580 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.44]
2021-04-24 19:34:51.358  INFO 4580 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-04-24 19:34:51.358  INFO 4580 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 8048 ms
2021-04-24 19:34:51.596  INFO 4580 --- [restartedMain] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-04-24 19:34:54.334  INFO 4580 --- [restartedMain] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2021-04-24 19:34:54.447  INFO 4580 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-04-24 19:34:54.496  INFO 4580 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-04-24 19:34:54.980  INFO 4580 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2021-04-24 19:34:54.981  INFO 4580 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2021-04-24 19:34:55.007  INFO 4580 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2021-04-24 19:34:55.133  INFO 4580 --- [restartedMain] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2021-04-24 19:34:55.395  INFO 4580 --- [restartedMain] c.m.a.AccountserviceApplication          : Started AccountserviceApplication in 13.078 seconds (JVM running for 13.931)
2021-04-24 19:34:55.399  INFO 4580 --- [restartedMain] c.m.a.AccountserviceApplication          : *************Started************
2021-04-24 19:36:49.445  INFO 4580 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-04-24 19:36:49.445  INFO 4580 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-04-24 19:36:49.447  INFO 4580 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-04-24 19:36:49.713  INFO 4580 --- [http-nio-8081-exec-2] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah
2021-04-24 19:36:49.713  INFO 4580 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah
2021-04-24 19:36:49.943  INFO 4580 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619273209903
2021-04-24 19:36:49.967  INFO 4580 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619273209903
2021-04-24 19:36:49.968  INFO 4580 --- [http-nio-8081-exec-1] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619273209903, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=0.00, balanceInDifferentCurrency=[BalanceDetailsDto(amount=0.00, currency=EUR), BalanceDetailsDto(amount=0.00, currency=SEK), BalanceDetailsDto(amount=0.00, currency=USD)], currencies=null, stampKey=1619273209903)
2021-04-24 19:36:50.003  INFO 4580 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah acountID:1619273209903
2021-04-24 19:36:50.003  INFO 4580 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619273209903
2021-04-24 19:36:50.006  INFO 4580 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619273209903
2021-04-24 19:36:50.010  INFO 4580 --- [task-1] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619273209968, customerId=lkachhwah, accountId=1619273209903, transactionType=IN, description=Initial Acount opened, trasactionDate=Sat Apr 24 19:36:49 IST 2021, amount=99.555, status=SUCCESS, transactionCurrency=USD, accountBalance=99.56, accountBalanceInUSD=99.56, failureReason=NA))
2021-04-24 19:36:50.065  INFO 4580 --- [task-1] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [127.0.0.1:5672]
2021-04-24 19:36:52.556  WARN 4580 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_A ON PUBLIC.ACCOUNTDETAILS(ACCOUNTID) VALUES 2"; SQL statement:
INSERT INTO ACCOUNTDETAILS(accountId, customerId,country,openedOnDate,balance,allowedCurrencies,stampKey) VALUES (?,?,?,?,?,?,?) [23505-200]
### The error may exist in com/mybank/accountservice/db/mapper/AccountDetailsMapper.java (best guess)
### The error may involve com.mybank.accountservice.db.mapper.AccountDetailsMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO ACCOUNTDETAILS(accountId, customerId,country,openedOnDate,balance,allowedCurrencies,stampKey) VALUES (?,?,?,?,?,?,?)
### Cause: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_A ON PUBLIC.ACCOUNTDETAILS(ACCOUNTID) VALUES 2"; SQL statement:
INSERT INTO ACCOUNTDETAILS(accountId, customerId,country,openedOnDate,balance,allowedCurrencies,stampKey) VALUES (?,?,?,?,?,?,?) [23505-200]
; Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_A ON PUBLIC.ACCOUNTDETAILS(ACCOUNTID) VALUES 2"; SQL statement:
INSERT INTO ACCOUNTDETAILS(accountId, customerId,country,openedOnDate,balance,allowedCurrencies,stampKey) VALUES (?,?,?,?,?,?,?) [23505-200]; nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_A ON PUBLIC.ACCOUNTDETAILS(ACCOUNTID) VALUES 2"; SQL statement:
INSERT INTO ACCOUNTDETAILS(accountId, customerId,country,openedOnDate,balance,allowedCurrencies,stampKey) VALUES (?,?,?,?,?,?,?) [23505-200]]
2021-04-24 19:36:53.122  INFO 4580 --- [task-1] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#fcc933:0/SimpleConnection@12c6ddf [delegate=amqp://guest@127.0.0.1:5672/, localPort= 63575]
2021-04-24 19:36:53.284  INFO 4580 --- [task-1] o.s.amqp.rabbit.core.RabbitAdmin         : Auto-declaring a non-durable, auto-delete, or exclusive Queue (myTestQueue) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2021-04-24 19:39:08.807  INFO 12372 --- [restartedMain] c.m.a.AccountserviceApplication          : Starting AccountserviceApplication using Java 1.8.0_201 on WINCTRL-2RFE763 with PID 12372 (C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes started by Admin in C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice)
2021-04-24 19:39:08.812  INFO 12372 --- [restartedMain] c.m.a.AccountserviceApplication          : No active profile set, falling back to default profiles: default
2021-04-24 19:39:08.931  INFO 12372 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-04-24 19:39:08.931  INFO 12372 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-04-24 19:39:10.223  WARN 12372 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.mybank.reportingservice.db.model]' package. Please check your configuration.
2021-04-24 19:39:11.077  INFO 12372 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2021-04-24 19:39:11.093  INFO 12372 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-04-24 19:39:11.094  INFO 12372 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.44]
2021-04-24 19:39:11.232  INFO 12372 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-04-24 19:39:11.232  INFO 12372 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2300 ms
2021-04-24 19:39:11.386  INFO 12372 --- [restartedMain] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-04-24 19:39:12.876  INFO 12372 --- [restartedMain] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2021-04-24 19:39:12.941  INFO 12372 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-04-24 19:39:12.973  INFO 12372 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-04-24 19:39:13.297  INFO 12372 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2021-04-24 19:39:13.299  INFO 12372 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2021-04-24 19:39:13.324  INFO 12372 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2021-04-24 19:39:13.395  INFO 12372 --- [restartedMain] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2021-04-24 19:39:13.626  INFO 12372 --- [restartedMain] c.m.a.AccountserviceApplication          : Started AccountserviceApplication in 5.459 seconds (JVM running for 6.145)
2021-04-24 19:39:13.633  INFO 12372 --- [restartedMain] c.m.a.AccountserviceApplication          : *************Started************
2021-04-24 19:39:18.128  INFO 12372 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-04-24 19:39:18.129  INFO 12372 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-04-24 19:39:18.131  INFO 12372 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-04-24 19:39:18.241  INFO 12372 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah
2021-04-24 19:39:18.361  INFO 12372 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619273358349
2021-04-24 19:39:18.377  INFO 12372 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619273358349
2021-04-24 19:39:18.378  INFO 12372 --- [http-nio-8081-exec-1] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619273358349, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=0.00, balanceInDifferentCurrency=[BalanceDetailsDto(amount=0.00, currency=EUR), BalanceDetailsDto(amount=0.00, currency=SEK), BalanceDetailsDto(amount=0.00, currency=USD)], currencies=null, stampKey=1619273358349)
2021-04-24 19:39:18.396  INFO 12372 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah acountID:1619273358349
2021-04-24 19:39:18.397  INFO 12372 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619273358349
2021-04-24 19:39:18.400  INFO 12372 --- [task-1] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619273358378, customerId=lkachhwah, accountId=1619273358349, transactionType=IN, description=Initial Acount opened, trasactionDate=Sat Apr 24 19:39:18 IST 2021, amount=99.555, status=SUCCESS, transactionCurrency=USD, accountBalance=99.56, accountBalanceInUSD=99.56, failureReason=NA))
2021-04-24 19:39:18.400  INFO 12372 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619273358349
2021-04-24 19:39:18.428  INFO 12372 --- [task-1] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [127.0.0.1:5672]
2021-04-24 19:39:18.521  INFO 12372 --- [task-1] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#9cf833:0/SimpleConnection@2dd1c0 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 63589]
2021-04-24 19:39:18.528  INFO 12372 --- [task-1] o.s.amqp.rabbit.core.RabbitAdmin         : Auto-declaring a non-durable, auto-delete, or exclusive Queue (myTestQueue) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2021-04-24 19:39:25.937  INFO 12372 --- [http-nio-8081-exec-3] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah
2021-04-24 19:39:25.945  INFO 12372 --- [http-nio-8081-exec-3] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619273365942
2021-04-24 19:39:25.948  INFO 12372 --- [http-nio-8081-exec-3] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619273365942
2021-04-24 19:39:25.948  INFO 12372 --- [http-nio-8081-exec-3] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619273365942, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=0.00, balanceInDifferentCurrency=[BalanceDetailsDto(amount=0.00, currency=EUR), BalanceDetailsDto(amount=0.00, currency=SEK), BalanceDetailsDto(amount=0.00, currency=USD)], currencies=null, stampKey=1619273365942)
2021-04-24 19:39:25.954  INFO 12372 --- [http-nio-8081-exec-3] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah acountID:1619273365942
2021-04-24 19:39:25.954  INFO 12372 --- [task-2] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619273365948, customerId=lkachhwah, accountId=1619273365942, transactionType=IN, description=Initial Acount opened, trasactionDate=Sat Apr 24 19:39:25 IST 2021, amount=99.555, status=SUCCESS, transactionCurrency=USD, accountBalance=99.56, accountBalanceInUSD=99.56, failureReason=NA))
2021-04-24 19:39:25.955  INFO 12372 --- [http-nio-8081-exec-3] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619273365942
2021-04-24 19:39:25.961  INFO 12372 --- [http-nio-8081-exec-3] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619273365942
2021-04-24 19:39:28.190  INFO 12372 --- [http-nio-8081-exec-4] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah
2021-04-24 19:39:28.198  INFO 12372 --- [http-nio-8081-exec-4] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619273368195
2021-04-24 19:39:28.205  INFO 12372 --- [http-nio-8081-exec-4] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619273368195
2021-04-24 19:39:28.206  INFO 12372 --- [http-nio-8081-exec-4] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619273368195, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=0.00, balanceInDifferentCurrency=[BalanceDetailsDto(amount=0.00, currency=EUR), BalanceDetailsDto(amount=0.00, currency=SEK), BalanceDetailsDto(amount=0.00, currency=USD)], currencies=null, stampKey=1619273368195)
2021-04-24 19:39:28.222  INFO 12372 --- [http-nio-8081-exec-4] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah acountID:1619273368195
2021-04-24 19:39:28.222  INFO 12372 --- [task-3] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619273368206, customerId=lkachhwah, accountId=1619273368195, transactionType=IN, description=Initial Acount opened, trasactionDate=Sat Apr 24 19:39:28 IST 2021, amount=99.555, status=SUCCESS, transactionCurrency=USD, accountBalance=99.56, accountBalanceInUSD=99.56, failureReason=NA))
2021-04-24 19:39:28.223  INFO 12372 --- [http-nio-8081-exec-4] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619273368195
2021-04-24 19:39:28.227  INFO 12372 --- [http-nio-8081-exec-4] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619273368195
2021-04-24 19:39:29.508  INFO 12372 --- [http-nio-8081-exec-5] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah
2021-04-24 19:39:29.516  INFO 12372 --- [http-nio-8081-exec-5] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619273369513
2021-04-24 19:39:29.519  INFO 12372 --- [http-nio-8081-exec-5] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619273369513
2021-04-24 19:39:29.519  INFO 12372 --- [http-nio-8081-exec-5] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619273369513, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=0.00, balanceInDifferentCurrency=[BalanceDetailsDto(amount=0.00, currency=EUR), BalanceDetailsDto(amount=0.00, currency=SEK), BalanceDetailsDto(amount=0.00, currency=USD)], currencies=null, stampKey=1619273369513)
2021-04-24 19:39:29.525  INFO 12372 --- [http-nio-8081-exec-5] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah acountID:1619273369513
2021-04-24 19:39:29.526  INFO 12372 --- [http-nio-8081-exec-5] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619273369513
2021-04-24 19:39:29.532  INFO 12372 --- [http-nio-8081-exec-5] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619273369513
2021-04-24 19:39:29.538  INFO 12372 --- [task-4] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619273369519, customerId=lkachhwah, accountId=1619273369513, transactionType=IN, description=Initial Acount opened, trasactionDate=Sat Apr 24 19:39:29 IST 2021, amount=99.555, status=SUCCESS, transactionCurrency=USD, accountBalance=99.56, accountBalanceInUSD=99.56, failureReason=NA))
2021-04-24 19:39:30.211  INFO 12372 --- [http-nio-8081-exec-7] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah
2021-04-24 19:39:30.221  INFO 12372 --- [http-nio-8081-exec-7] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619273370216
2021-04-24 19:39:30.225  INFO 12372 --- [http-nio-8081-exec-7] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619273370216
2021-04-24 19:39:30.227  INFO 12372 --- [http-nio-8081-exec-7] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619273370216, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=0.00, balanceInDifferentCurrency=[BalanceDetailsDto(amount=0.00, currency=EUR), BalanceDetailsDto(amount=0.00, currency=SEK), BalanceDetailsDto(amount=0.00, currency=USD)], currencies=null, stampKey=1619273370216)
2021-04-24 19:39:30.237  INFO 12372 --- [http-nio-8081-exec-7] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah acountID:1619273370216
2021-04-24 19:39:30.237  INFO 12372 --- [task-5] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619273370227, customerId=lkachhwah, accountId=1619273370216, transactionType=IN, description=Initial Acount opened, trasactionDate=Sat Apr 24 19:39:30 IST 2021, amount=99.555, status=SUCCESS, transactionCurrency=USD, accountBalance=99.56, accountBalanceInUSD=99.56, failureReason=NA))
2021-04-24 19:39:30.237  INFO 12372 --- [http-nio-8081-exec-7] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619273370216
2021-04-24 19:39:30.244  INFO 12372 --- [http-nio-8081-exec-7] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619273370216
2021-04-24 19:39:30.753  INFO 12372 --- [http-nio-8081-exec-8] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah
2021-04-24 19:39:30.759  INFO 12372 --- [http-nio-8081-exec-8] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619273370755
2021-04-24 19:39:30.764  INFO 12372 --- [http-nio-8081-exec-8] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619273370755
2021-04-24 19:39:30.764  INFO 12372 --- [http-nio-8081-exec-8] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619273370755, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=0.00, balanceInDifferentCurrency=[BalanceDetailsDto(amount=0.00, currency=EUR), BalanceDetailsDto(amount=0.00, currency=SEK), BalanceDetailsDto(amount=0.00, currency=USD)], currencies=null, stampKey=1619273370755)
2021-04-24 19:39:30.773  INFO 12372 --- [http-nio-8081-exec-8] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah acountID:1619273370755
2021-04-24 19:39:30.773  INFO 12372 --- [http-nio-8081-exec-8] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619273370755
2021-04-24 19:39:30.773  INFO 12372 --- [task-6] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619273370764, customerId=lkachhwah, accountId=1619273370755, transactionType=IN, description=Initial Acount opened, trasactionDate=Sat Apr 24 19:39:30 IST 2021, amount=99.555, status=SUCCESS, transactionCurrency=USD, accountBalance=99.56, accountBalanceInUSD=99.56, failureReason=NA))
2021-04-24 19:39:30.775  INFO 12372 --- [http-nio-8081-exec-8] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619273370755
2021-04-24 19:39:31.274  INFO 12372 --- [http-nio-8081-exec-9] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah
2021-04-24 19:39:31.281  INFO 12372 --- [http-nio-8081-exec-9] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619273371278
2021-04-24 19:39:31.285  INFO 12372 --- [http-nio-8081-exec-9] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619273371278
2021-04-24 19:39:31.285  INFO 12372 --- [http-nio-8081-exec-9] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619273371278, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=0.00, balanceInDifferentCurrency=[BalanceDetailsDto(amount=0.00, currency=EUR), BalanceDetailsDto(amount=0.00, currency=SEK), BalanceDetailsDto(amount=0.00, currency=USD)], currencies=null, stampKey=1619273371278)
2021-04-24 19:39:31.291  INFO 12372 --- [http-nio-8081-exec-9] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah acountID:1619273371278
2021-04-24 19:39:31.291  INFO 12372 --- [task-7] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619273371285, customerId=lkachhwah, accountId=1619273371278, transactionType=IN, description=Initial Acount opened, trasactionDate=Sat Apr 24 19:39:31 IST 2021, amount=99.555, status=SUCCESS, transactionCurrency=USD, accountBalance=99.56, accountBalanceInUSD=99.56, failureReason=NA))
2021-04-24 19:39:31.292  INFO 12372 --- [http-nio-8081-exec-9] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619273371278
2021-04-24 19:39:31.295  INFO 12372 --- [http-nio-8081-exec-9] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619273371278
2021-04-24 19:39:31.801  INFO 12372 --- [http-nio-8081-exec-10] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah
2021-04-24 19:39:31.809  INFO 12372 --- [http-nio-8081-exec-10] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619273371806
2021-04-24 19:39:31.814  INFO 12372 --- [http-nio-8081-exec-10] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619273371806
2021-04-24 19:39:31.815  INFO 12372 --- [http-nio-8081-exec-10] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619273371806, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=0.00, balanceInDifferentCurrency=[BalanceDetailsDto(amount=0.00, currency=EUR), BalanceDetailsDto(amount=0.00, currency=SEK), BalanceDetailsDto(amount=0.00, currency=USD)], currencies=null, stampKey=1619273371807)
2021-04-24 19:39:31.825  INFO 12372 --- [http-nio-8081-exec-10] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah acountID:1619273371806
2021-04-24 19:39:31.826  INFO 12372 --- [http-nio-8081-exec-10] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619273371806
2021-04-24 19:39:31.826  INFO 12372 --- [task-8] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619273371815, customerId=lkachhwah, accountId=1619273371806, transactionType=IN, description=Initial Acount opened, trasactionDate=Sat Apr 24 19:39:31 IST 2021, amount=99.555, status=SUCCESS, transactionCurrency=USD, accountBalance=99.56, accountBalanceInUSD=99.56, failureReason=NA))
2021-04-24 19:39:31.831  INFO 12372 --- [http-nio-8081-exec-10] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619273371806
2021-04-24 19:39:32.311  INFO 12372 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah
2021-04-24 19:39:32.320  INFO 12372 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619273372317
2021-04-24 19:39:32.325  INFO 12372 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619273372317
2021-04-24 19:39:32.325  INFO 12372 --- [http-nio-8081-exec-1] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619273372317, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=0.00, balanceInDifferentCurrency=[BalanceDetailsDto(amount=0.00, currency=EUR), BalanceDetailsDto(amount=0.00, currency=SEK), BalanceDetailsDto(amount=0.00, currency=USD)], currencies=null, stampKey=1619273372317)
2021-04-24 19:39:32.335  INFO 12372 --- [task-1] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619273372325, customerId=lkachhwah, accountId=1619273372317, transactionType=IN, description=Initial Acount opened, trasactionDate=Sat Apr 24 19:39:32 IST 2021, amount=99.555, status=SUCCESS, transactionCurrency=USD, accountBalance=99.56, accountBalanceInUSD=99.56, failureReason=NA))
2021-04-24 19:39:32.336  INFO 12372 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah acountID:1619273372317
2021-04-24 19:39:32.338  INFO 12372 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619273372317
2021-04-24 19:39:32.342  INFO 12372 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619273372317
2021-04-24 19:41:02.954  INFO 12372 --- [Thread-6] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-04-24 19:41:03.189  INFO 12372 --- [restartedMain] c.m.a.AccountserviceApplication          : Starting AccountserviceApplication using Java 1.8.0_201 on WINCTRL-2RFE763 with PID 12372 (C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes started by Admin in C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice)
2021-04-24 19:41:03.189  INFO 12372 --- [restartedMain] c.m.a.AccountserviceApplication          : No active profile set, falling back to default profiles: default
2021-04-24 19:41:03.835  WARN 12372 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.mybank.reportingservice.db.model]' package. Please check your configuration.
2021-04-24 19:41:03.976  INFO 12372 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2021-04-24 19:41:03.977  INFO 12372 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-04-24 19:41:03.977  INFO 12372 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.44]
2021-04-24 19:41:03.998  INFO 12372 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-04-24 19:41:03.999  INFO 12372 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 804 ms
2021-04-24 19:41:04.046  INFO 12372 --- [restartedMain] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-04-24 19:41:04.051  INFO 12372 --- [restartedMain] o.s.j.d.e.EmbeddedDatabaseFactory        : Shutting down embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
2021-04-24 19:41:04.255  WARN 12372 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountController': Unsatisfied dependency expressed through field 'accountService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountService': Unsatisfied dependency expressed through field 'accountDetailsMapper'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountDetailsMapper' defined in file [C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes\com\mybank\accountservice\db\mapper\AccountDetailsMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/mybank/accountservice/config/PersistantConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
2021-04-24 19:41:04.257  INFO 12372 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2021-04-24 19:41:04.286  INFO 12372 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-04-24 19:41:04.451 ERROR 12372 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountController': Unsatisfied dependency expressed through field 'accountService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountService': Unsatisfied dependency expressed through field 'accountDetailsMapper'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountDetailsMapper' defined in file [C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes\com\mybank\accountservice\db\mapper\AccountDetailsMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/mybank/accountservice/config/PersistantConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.5.jar:5.3.5]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.5.jar:5.3.5]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.4.jar:2.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:769) [spring-boot-2.4.4.jar:2.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) [spring-boot-2.4.4.jar:2.4.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.4.jar:2.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.4.jar:2.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1313) [spring-boot-2.4.4.jar:2.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) [spring-boot-2.4.4.jar:2.4.4]
	at com.mybank.accountservice.AccountserviceApplication.main(AccountserviceApplication.java:23) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_201]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_201]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_201]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_201]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.4.4.jar:2.4.4]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountService': Unsatisfied dependency expressed through field 'accountDetailsMapper'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountDetailsMapper' defined in file [C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes\com\mybank\accountservice\db\mapper\AccountDetailsMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/mybank/accountservice/config/PersistantConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.3.5.jar:5.3.5]
	... 26 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountDetailsMapper' defined in file [C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes\com\mybank\accountservice\db\mapper\AccountDetailsMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/mybank/accountservice/config/PersistantConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1516) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1399) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.3.5.jar:5.3.5]
	... 40 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/mybank/accountservice/config/PersistantConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1501) ~[spring-beans-5.3.5.jar:5.3.5]
	... 51 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.5.jar:5.3.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.5.jar:5.3.5]
	... 64 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:622) ~[spring-jdbc-5.3.5.jar:5.3.5]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-5.3.5.jar:5.3.5]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:49) ~[spring-jdbc-5.3.5.jar:5.3.5]
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory.initDatabase(EmbeddedDatabaseFactory.java:201) ~[spring-jdbc-5.3.5.jar:5.3.5]
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory.getDatabase(EmbeddedDatabaseFactory.java:158) ~[spring-jdbc-5.3.5.jar:5.3.5]
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseBuilder.build(EmbeddedDatabaseBuilder.java:283) ~[spring-jdbc-5.3.5.jar:5.3.5]
	at com.mybank.accountservice.config.PersistantConfig.dataSource(PersistantConfig.java:25) ~[classes/:na]
	at com.mybank.accountservice.config.PersistantConfig.sqlSessionFactory(PersistantConfig.java:31) ~[classes/:na]
	at com.mybank.accountservice.config.PersistantConfig$$EnhancerBySpringCGLIB$$cfdb9776.CGLIB$sqlSessionFactory$0(<generated>) ~[classes/:na]
	at com.mybank.accountservice.config.PersistantConfig$$EnhancerBySpringCGLIB$$cfdb9776$$FastClassBySpringCGLIB$$1fbe85c3.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.5.jar:5.3.5]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.5.jar:5.3.5]
	at com.mybank.accountservice.config.PersistantConfig$$EnhancerBySpringCGLIB$$cfdb9776.sqlSessionFactory(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_201]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_201]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_201]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_201]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.5.jar:5.3.5]
	... 65 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.PRIMARY_KEY_8 ON PUBLIC.CUSTOMERDETAILS(CUSTOMERID) VALUES 1"; SQL statement:
INSERT INTO CustomerDetails VALUES ('lkachhwah', 'Lalit Kachhwah','lalitkkachhwah@gmail.com') [23505-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:459) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.index.BaseIndex.getDuplicateKeyException(BaseIndex.java:103) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:221) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:196) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.mvstore.db.MVTable.addRow(MVTable.java:531) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.dml.Insert.insertRows(Insert.java:195) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.dml.Insert.update(Insert.java:151) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.CommandContainer.update(CommandContainer.java:198) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Command.executeUpdate(Command.java:251) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:228) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:601) ~[spring-jdbc-5.3.5.jar:5.3.5]
	... 82 common frames omitted

2021-04-24 20:18:00.664  INFO 9648 --- [restartedMain] c.m.a.AccountserviceApplication          : Starting AccountserviceApplication using Java 1.8.0_201 on WINCTRL-2RFE763 with PID 9648 (C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes started by Admin in C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice)
2021-04-24 20:18:00.711  INFO 9648 --- [restartedMain] c.m.a.AccountserviceApplication          : No active profile set, falling back to default profiles: default
2021-04-24 20:18:00.830  INFO 9648 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-04-24 20:18:00.831  INFO 9648 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-04-24 20:18:02.174  WARN 9648 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.mybank.reportingservice.db.model]' package. Please check your configuration.
2021-04-24 20:18:03.666  INFO 9648 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2021-04-24 20:18:03.683  INFO 9648 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-04-24 20:18:03.684  INFO 9648 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.44]
2021-04-24 20:18:03.906  INFO 9648 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-04-24 20:18:03.906  INFO 9648 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3074 ms
2021-04-24 20:18:04.060  INFO 9648 --- [restartedMain] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-04-24 20:18:07.644  INFO 9648 --- [restartedMain] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2021-04-24 20:18:07.759  INFO 9648 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-04-24 20:18:07.948  INFO 9648 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-04-24 20:18:08.625  INFO 9648 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2021-04-24 20:18:08.626  INFO 9648 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2021-04-24 20:18:08.688  INFO 9648 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2021-04-24 20:18:08.838  INFO 9648 --- [restartedMain] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2021-04-24 20:18:09.240  INFO 9648 --- [restartedMain] c.m.a.AccountserviceApplication          : Started AccountserviceApplication in 9.203 seconds (JVM running for 9.872)
2021-04-24 20:18:09.245  INFO 9648 --- [restartedMain] c.m.a.AccountserviceApplication          : *************Started************
2021-04-24 20:18:21.731  INFO 9648 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-04-24 20:18:21.731  INFO 9648 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-04-24 20:18:21.734  INFO 9648 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-04-24 20:18:22.664  INFO 9648 --- [http-nio-8081-exec-1] c.m.a.service.TransactionService         : [intiateOperation] -START acountId:1619263618092 ,tranactionId:1619275702662
2021-04-24 20:18:22.664  INFO 9648 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619263618092
2021-04-24 20:18:23.230  WARN 9648 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [AccountServiceException(httpStatus=400 BAD_REQUEST, code=FailureCode(message=AccountId is invalid))]
2021-04-24 20:22:23.911  INFO 4676 --- [restartedMain] c.m.a.AccountserviceApplication          : Starting AccountserviceApplication using Java 1.8.0_201 on WINCTRL-2RFE763 with PID 4676 (C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice\target\classes started by Admin in C:\Users\Admin\Desktop\ModularBank\accountservice\accountservice)
2021-04-24 20:22:23.917  INFO 4676 --- [restartedMain] c.m.a.AccountserviceApplication          : No active profile set, falling back to default profiles: default
2021-04-24 20:22:24.058  INFO 4676 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-04-24 20:22:24.059  INFO 4676 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-04-24 20:22:25.352  WARN 4676 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.mybank.reportingservice.db.model]' package. Please check your configuration.
2021-04-24 20:22:26.167  INFO 4676 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2021-04-24 20:22:26.183  INFO 4676 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-04-24 20:22:26.184  INFO 4676 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.44]
2021-04-24 20:22:26.313  INFO 4676 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-04-24 20:22:26.314  INFO 4676 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2254 ms
2021-04-24 20:22:26.464  INFO 4676 --- [restartedMain] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-04-24 20:22:27.958  INFO 4676 --- [restartedMain] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2021-04-24 20:22:28.022  INFO 4676 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-04-24 20:22:28.053  INFO 4676 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-04-24 20:22:28.371  INFO 4676 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2021-04-24 20:22:28.372  INFO 4676 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2021-04-24 20:22:28.397  INFO 4676 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2021-04-24 20:22:28.465  INFO 4676 --- [restartedMain] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2021-04-24 20:22:28.678  INFO 4676 --- [restartedMain] c.m.a.AccountserviceApplication          : Started AccountserviceApplication in 5.404 seconds (JVM running for 6.095)
2021-04-24 20:22:28.683  INFO 4676 --- [restartedMain] c.m.a.AccountserviceApplication          : *************Started************
2021-04-24 20:22:57.137  INFO 4676 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-04-24 20:22:57.137  INFO 4676 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-04-24 20:22:57.139  INFO 4676 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-04-24 20:22:57.257  INFO 4676 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah
2021-04-24 20:22:57.412  INFO 4676 --- [http-nio-8081-exec-1] c.m.a.service.TransactionService         : [intiateOperation] -START acountId:1619275977399 ,tranactionId:1619275977411
2021-04-24 20:22:57.413  INFO 4676 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619275977399
2021-04-24 20:22:57.431  INFO 4676 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619275977399
2021-04-24 20:22:57.432  INFO 4676 --- [http-nio-8081-exec-1] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619275977399, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=0.00, balanceInDifferentCurrency=[BalanceDetailsDto(amount=0.00, currency=EUR), BalanceDetailsDto(amount=0.00, currency=SEK), BalanceDetailsDto(amount=0.00, currency=USD)], currencies=null, stampKey=1619275977399),,tranactionId:1619275977411
2021-04-24 20:22:57.438  INFO 4676 --- [http-nio-8081-exec-1] c.m.a.service.TransactionService         : [intiateOperation] -ACOUNT UPDATED acountId:1619275977399,,tranactionId:1619275977411
2021-04-24 20:22:57.449  INFO 4676 --- [http-nio-8081-exec-1] c.m.a.service.TransactionService         : [intiateOperation] -END acountId:1619275977399 ,TransactionId:1619275977411
2021-04-24 20:22:57.459  INFO 4676 --- [task-1] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619275977411, customerId=lkachhwah, accountId=1619275977399, transactionType=IN, description=Initial Acount opened, trasactionDate=Sat Apr 24 20:22:57 IST 2021, amount=99.555, status=SUCCESS, transactionCurrency=USD, accountBalance=99.56, accountBalanceInUSD=99.56, failureReason=NA))
2021-04-24 20:22:57.464  INFO 4676 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [createAccount] START for CustomerID:lkachhwah acountID:1619275977399
2021-04-24 20:22:57.464  INFO 4676 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619275977399
2021-04-24 20:22:57.466  INFO 4676 --- [http-nio-8081-exec-1] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619275977399
2021-04-24 20:22:57.498  INFO 4676 --- [task-1] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [127.0.0.1:5672]
2021-04-24 20:22:59.785  INFO 4676 --- [task-1] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#75096c:0/SimpleConnection@d3f875 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 63940]
2021-04-24 20:22:59.882  INFO 4676 --- [task-1] o.s.amqp.rabbit.core.RabbitAdmin         : Auto-declaring a non-durable, auto-delete, or exclusive Queue (myTestQueue) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2021-04-24 20:23:12.606  INFO 4676 --- [http-nio-8081-exec-3] c.m.a.service.TransactionService         : [intiateOperation] -START acountId:1619275977399 ,tranactionId:1619275992606
2021-04-24 20:23:12.607  INFO 4676 --- [http-nio-8081-exec-3] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619275977399
2021-04-24 20:23:12.617  INFO 4676 --- [http-nio-8081-exec-3] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619275977399
2021-04-24 20:23:12.618  INFO 4676 --- [http-nio-8081-exec-3] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619275977399, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=99.56, balanceInDifferentCurrency=[BalanceDetailsDto(amount=82.64, currency=EUR), BalanceDetailsDto(amount=840.29, currency=SEK), BalanceDetailsDto(amount=99.56, currency=USD)], currencies=null, stampKey=1619275977435),,tranactionId:1619275992606
2021-04-24 20:23:12.625  INFO 4676 --- [http-nio-8081-exec-3] c.m.a.service.TransactionService         : [intiateOperation] -ACOUNT UPDATED acountId:1619275977399,,tranactionId:1619275992606
2021-04-24 20:23:12.626  INFO 4676 --- [http-nio-8081-exec-3] c.m.a.service.TransactionService         : [intiateOperation] -END acountId:1619275977399 ,TransactionId:1619275992606
2021-04-24 20:23:12.627  INFO 4676 --- [task-2] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619275992606, customerId=lkachhwah, accountId=1619275977399, transactionType=IN, description=Token Amount, trasactionDate=Sat Apr 24 20:23:12 IST 2021, amount=10, status=SUCCESS, transactionCurrency=EUR, accountBalance=92.64, accountBalanceInUSD=111.61, failureReason=NA))
2021-04-24 20:23:19.704  INFO 4676 --- [http-nio-8081-exec-5] c.m.a.service.TransactionService         : [intiateOperation] -START acountId:1619275977399 ,tranactionId:1619275999704
2021-04-24 20:23:19.705  INFO 4676 --- [http-nio-8081-exec-5] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619275977399
2021-04-24 20:23:19.708  INFO 4676 --- [http-nio-8081-exec-5] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619275977399
2021-04-24 20:23:19.708  INFO 4676 --- [http-nio-8081-exec-5] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619275977399, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=111.61, balanceInDifferentCurrency=[BalanceDetailsDto(amount=92.64, currency=EUR), BalanceDetailsDto(amount=941.99, currency=SEK), BalanceDetailsDto(amount=111.61, currency=USD)], currencies=null, stampKey=1619275992623),,tranactionId:1619275999704
2021-04-24 20:23:19.714  INFO 4676 --- [http-nio-8081-exec-5] c.m.a.service.TransactionService         : [intiateOperation] -ACOUNT UPDATED acountId:1619275977399,,tranactionId:1619275999704
2021-04-24 20:23:19.716  INFO 4676 --- [http-nio-8081-exec-5] c.m.a.service.TransactionService         : [intiateOperation] -END acountId:1619275977399 ,TransactionId:1619275999704
2021-04-24 20:23:19.716  INFO 4676 --- [task-3] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619275999704, customerId=lkachhwah, accountId=1619275977399, transactionType=IN, description=Token Amount, trasactionDate=Sat Apr 24 20:23:19 IST 2021, amount=10, status=SUCCESS, transactionCurrency=EUR, accountBalance=102.64, accountBalanceInUSD=123.66, failureReason=NA))
2021-04-24 20:23:23.443  INFO 4676 --- [http-nio-8081-exec-7] c.m.a.service.TransactionService         : [intiateOperation] -START acountId:1619275977399 ,tranactionId:1619276003443
2021-04-24 20:23:23.445  INFO 4676 --- [http-nio-8081-exec-7] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619275977399
2021-04-24 20:23:23.451  INFO 4676 --- [http-nio-8081-exec-7] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619275977399
2021-04-24 20:23:23.452  INFO 4676 --- [http-nio-8081-exec-7] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619275977399, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=123.66, balanceInDifferentCurrency=[BalanceDetailsDto(amount=102.64, currency=EUR), BalanceDetailsDto(amount=1043.70, currency=SEK), BalanceDetailsDto(amount=123.66, currency=USD)], currencies=null, stampKey=1619275999712),,tranactionId:1619276003443
2021-04-24 20:23:23.458  INFO 4676 --- [http-nio-8081-exec-7] c.m.a.service.TransactionService         : [intiateOperation] -ACOUNT UPDATED acountId:1619275977399,,tranactionId:1619276003443
2021-04-24 20:23:23.460  INFO 4676 --- [http-nio-8081-exec-7] c.m.a.service.TransactionService         : [intiateOperation] -END acountId:1619275977399 ,TransactionId:1619276003443
2021-04-24 20:23:23.460  INFO 4676 --- [task-4] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619276003443, customerId=lkachhwah, accountId=1619275977399, transactionType=IN, description=Token Amount, trasactionDate=Sat Apr 24 20:23:23 IST 2021, amount=10, status=SUCCESS, transactionCurrency=EUR, accountBalance=112.64, accountBalanceInUSD=135.71, failureReason=NA))
2021-04-24 20:23:32.596  INFO 4676 --- [http-nio-8081-exec-9] c.m.a.service.TransactionService         : [intiateOperation] -START acountId:1619275977399 ,tranactionId:1619276012596
2021-04-24 20:23:32.597  INFO 4676 --- [http-nio-8081-exec-9] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619275977399
2021-04-24 20:23:32.602  INFO 4676 --- [http-nio-8081-exec-9] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619275977399
2021-04-24 20:23:32.603  INFO 4676 --- [http-nio-8081-exec-9] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619275977399, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=135.71, balanceInDifferentCurrency=[BalanceDetailsDto(amount=112.64, currency=EUR), BalanceDetailsDto(amount=1145.40, currency=SEK), BalanceDetailsDto(amount=135.71, currency=USD)], currencies=null, stampKey=1619276003456),,tranactionId:1619276012596
2021-04-24 20:23:32.608  INFO 4676 --- [http-nio-8081-exec-9] c.m.a.service.TransactionService         : [intiateOperation] -ACOUNT UPDATED acountId:1619275977399,,tranactionId:1619276012596
2021-04-24 20:23:32.610  INFO 4676 --- [http-nio-8081-exec-9] c.m.a.service.TransactionService         : [intiateOperation] -END acountId:1619275977399 ,TransactionId:1619276012596
2021-04-24 20:23:32.610  INFO 4676 --- [task-5] c.m.a.service.EventPublisherService      : Pushing Message : PublisherDto(t=TrasnsactionDetail(transactionId=1619276012596, customerId=lkachhwah, accountId=1619275977399, transactionType=IN, description=Token Amount, trasactionDate=Sat Apr 24 20:23:32 IST 2021, amount=10, status=SUCCESS, transactionCurrency=EUR, accountBalance=122.65, accountBalanceInUSD=147.76, failureReason=NA))
2021-04-24 20:23:36.085  INFO 4676 --- [http-nio-8081-exec-10] c.m.a.service.TransactionService         : [intiateOperation] -START acountId:1619275977399 ,tranactionId:1619276016085
2021-04-24 20:23:36.086  INFO 4676 --- [http-nio-8081-exec-10] c.m.a.service.AccountService             : [getAccountDetails] START for accountId:1619275977399
2021-04-24 20:23:36.090  INFO 4676 --- [http-nio-8081-exec-10] c.m.a.service.AccountService             : [getAccountDetails] END for accountId:1619275977399
2021-04-24 20:23:36.091  INFO 4676 --- [http-nio-8081-exec-10] c.m.a.service.TransactionService         : Transaction Account details:AccountDetailDto(accountId=1619275977399, customerId=lkachhwah, country=India, openedOnDate=Sat Apr 24 00:00:00 IST 2021, balance=147.76, balanceInDifferentCurrency=[BalanceDetailsDto(amount=122.65, currency=EUR), BalanceDetailsDto(amount=1247.10, currency=SEK), BalanceDetailsDto(amount=147.76, currency=USD)], currencies=null, stampKey=1619276012606),,tranactionId:1619276016085
2021-04-24 20:23:36.097  INFO 4676 --- [http-nio-8081-exec-10] c.m.a.service.TransactionService         : [intiateOperation] -ACOUNT UPDATED acountId:1619275977399,,tranactionId:1619276016085
2021-04-24 20:23:36.104  INFO 4676 --- [http-nio-8081-exec-10] c.m.a.service.TransactionService         : [intiateOperation] -END acountId:1619275977399 ,TransactionId:1619276016085
